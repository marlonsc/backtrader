---
description:
globs:
alwaysApply: true
---
## Backtrader addendum — extends/overrides GEN‑AI Universal rules

* **A1 Copyright**
  Add `# Copyright (c) 2025 backtrader contributors` to every file.

* **A2 Docs**
  Each top‑level dir needs a short README (purpose / usage / deps).

* **A3 Dependencies** (replaces Universal Q‑2)
  Pin every Python version; upgrades need maintainer approval.

* **A4 Modularity / API**
  New code goes in subpackages; no public‑API breaks without a migration note.

* **A5 Tests**
  Add `pytest` tests under `tests/`; keep coverage ≥ current.

* **A6 Samples**
  Put demos in `samples/` with a brief README.

* **A7 CI security**
  Run secret‑scan and vuln‑scan.

* **A8 Logging / errors**
  Use `logging` or built‑in helpers; include feed / broker / strategy context.

* **A9 Workflow**
  All changes via PR; follow CODEOWNERS; CI (lint + tests) must pass.

* **A10 Naming / imports**
  Use descriptive names; explicit relative imports inside `backtrader/`.

* **A11 Platform**
  Must run on Linux + macOS. Windows best effort.

* **A12 Baseline diff**
  Before commit run
  `git diff origin/main -- <path>`
  Revert pure‑noise edits, restore lost features, note recoveries in the PR.
